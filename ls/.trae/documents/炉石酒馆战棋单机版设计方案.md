# 炉石酒馆战棋单机版设计方案

## 游戏核心机制

### 1. 基础玩法

* **游戏模式**：单机版，玩家与7个AI对手进行对战

* **胜利条件**：成为最后存活的玩家

* **失败条件**：生命值降为0

### 2. 核心系统

#### 2.1 金币系统

* 每回合初始金币从3开始，每回合递增1，最多递增10次

* 回合结束时不保留剩余金币

* 出售随从可获得默认1个金币，有特殊随从可能获取多个

#### 2.2 酒馆系统

一、酒馆等级与升级机制
1. 等级设置
初始等级：1 级，最高等级：6 级（7 级通常不开放）
每局游戏开始时金币为 3 枚，每回合增加 1 枚，最多增加 10 次，不保留到下一回合
2. 升级费用表
升级路径	初始费用 (铸币)
1 级→2 级	5
2 级→3 级	7
3 级→4 级	8
4 级→5 级	10
5 级→6 级	12
6 级→7 级	12
费用递减规则：每回合未升级，下一回合升级费用自动 - 1，直至 0 
二、各等级卡牌数量与类型
1. 卡牌数量表
酒馆等级	随从数量	法术数量	总卡牌数
1 级	3 张	最多 1 张	4 张
2 级	4 张	最多 1 张	5 张
3 级	4 张	最多 1 张	5 张
4 级	5 张	最多 1 张	6 张
5 级	5 张	最多 1 张	6 张
6 级	6 张	最多 1 张	7 张
关键规则：
无论哪个等级，每回合刷新时最多只能出现 1 张法术 
2. 公共卡池容量（各星级随从总数）
星级	卡池数量
1 星	18 张
2 星	15 张
3 星	13 张
4 星	11 张
5 星	9 张
6 星	6 张
刷新规则：
每张牌出现概率均等，与星级无关
N 级酒馆只能刷新 1-N 星级随从，星级越高出现概率越低 

刷新机制
1 铸币 / 次

冻结机制
锁定当前酒馆卡牌，下回合继续显示（否则会回到公共卡池）


#### 2.3 随从系统

1. 购买与出售随从
购买费用：所有随从售价均为 3 铸币 
出售收益：出售随从仅返回 1 铸币 ，部分随从出售可获得额外金币

* 随从星级：1-6星 存在7星随从

* 随从类型：多种类型，如野兽、机械、龙等

* 随从特效：每种随从有独特技能

一、关键词特效（基础特性）
关键词	效果说明	图标特征
嘲讽	敌方必须优先攻击该随从	盾牌图标
圣盾	免疫第一次受到的伤害（触发后消失）	金色护盾环绕
风怒	每回合可攻击两次	风旋环绕
超级风怒	每回合可攻击四次	双重风旋
潜行	直到攻击前无法被选中或攻击	半透明轮廓
冲锋	可在被召唤当回合立即攻击	箭头向前
剧毒	攻击时直接消灭目标随从	骷髅毒药瓶
复生	首次死亡后以 1 点生命值复活	凤凰图标
免疫	无法被敌方目标或伤害	蓝色防护罩

二、触发类特效（按时机分类）
1. 战吼（上场触发）
随从从手牌打出时立即生效
示例：
冷酷的死灵法师 (3 星)：战吼召唤两个 1/1 骷髅
拜戈尔格国王 (5 星)：战吼使其他鱼人 + 3/+3
棘背鼓手 (4 星)：战吼获取一张鲜血宝石弹幕
2. 亡语（死亡触发）
随从死亡时执行效果
示例：
无私的英雄：亡语为友方提供圣盾
埃匹希斯卫士：亡语为友方机械添加绿色扩音机
友善的恶鬼：亡语使友方获得 + 1 攻击力
3. 回合触发
回合开始：纳克萨玛斯之影 (3 星) 每回合开始 + 1/+1
回合结束：光耀之子为元素随从 + 属性（元素挂机流核心）
攻击后：狂棍野猪人 (4 星) 攻击后获得鲜血宝石
4. 复仇（特定条件触发）
当友方随从死亡达到指定次数时激活
示例：
时空扭曲旋翼机 (2 星)：复仇 (3) 随机获取机械牌
睡梦织棘者 (4 星)：复仇 (4) 使鲜血宝石效果增强
三、种族专属特效
1. 野猪人 - 鲜血宝石系统
核心机制：通过 "鲜血宝石" 为随从添加临时属性
关键卡牌：
野猪预言者 (2 星)：每回合使用野猪人后获得宝石
刺背蛮兵 (3 星)：首张宝石使其 + 3/+3
自身巫婆 (5 星)：战斗中宝石效果翻倍
2. 机械 - 磁力系统
可 "吸附" 到其他随从上，融合属性并保留特效
示例：
红色扩音机：磁力后使所有 "扩音机" 永久 + 3 攻击力
扣子 - 拉链 (5 星)：磁力后替换目标随从
3. 元素 - 连锁反应
元素牌之间相互增益，越用越强
核心：
诺米 (5 星)：使用元素牌后，酒馆元素永久 + 2/+1
缤纷冰灵 (2 星)：每用一张元素牌，自身 + 1 攻击力
4. 鱼人 - 群体强化
鱼人数量越多，整体效果越强
代表：
奔波尔霸 (5 星)：战吼为每个鱼人提供 + 4/+4
老瞎眼 (5 星)：冲锋 + 剧毒，鱼人流核心输出
5. 纳迦 - 法术塑造
特有 "塑造法术" 效果，强化指定随从 
典型：
时空扭曲闪鳞纳迦：塑造法术使随从获得圣盾 
变换之潮 (法术)：使随从 + 3/+3，纳迦再 + 3/+3
6. 亡灵 - 亡语联动
亡语效果相互增强，常见于 "亡语链"
示例：
营火幽影 (5 星)：进击获取敌方随从复制
天灾收割者 (5 星)：高生命值 + 亡语强力效果
7. 恶魔 - 生命换强度
以英雄生命值换取随从强力属性
代表：
灵魂杂耍者：召唤小鬼并利用其死亡
虚空领主：高生命值嘲讽，死亡召唤恶魔
四、特殊机制特效
1. 进击
特定条件满足时永久强化友方随从
示例：
狼人高管 (2 星)：酒馆刷新后，使最右随从 + 1/+1
英勇的落败者 (4 星)：获得目标攻击力
2. 磁力 +（机械专属进阶）
磁力后触发额外效果
如：
全能家政机器人 (7 星)：磁力时可选双重圣盾 / 复生 / 风怒


* 三连机制：3个相同随从合成金色随从，属性和特效翻倍

#### 2.4 英雄系统

* 多个英雄可选，每个英雄有独特技能

* 英雄技能有冷却或消耗

#### 2.5 战斗系统

* 自动战斗，根据随从位置和属性决定胜负

* 战斗后根据胜负扣减生命值

* 随从死亡不会复活，需重新招募

## 技术架构

### 1. 项目结构

```
src/
├── components/          # Vue组件
│   ├── GameBoard.vue    # 游戏主界面
│   ├── Tavern.vue       # 酒馆界面
│   ├── Minion.vue       # 随从组件
│   ├── Hero.vue         # 英雄组件
│   └── BattleScene.vue  # 战斗场景
├── game/               # 游戏逻辑
│   ├── GameManager.ts   # 游戏管理器
│   ├── Player.ts        # 玩家类
│   ├── AIPlayer.ts      # AI玩家类
│   ├── Minion.ts        # 随从类
│   ├── Hero.ts          # 英雄类
│   ├── Tavern.ts        # 酒馆类
│   └── BattleSystem.ts  # 战斗系统
├── data/               # 游戏数据
│   ├── minions.json     # 随从数据
│   └── heroes.json      # 英雄数据
├── App.vue             # 根组件
└── main.ts             # 入口文件
```

### 2. 核心类设计

#### GameManager

* 游戏状态管理

* 回合控制

* 玩家管理

* 游戏流程控制

#### Player

* 玩家属性（生命值、金币、酒馆等级）

* 随从管理

* 操作处理（招募、出售、升级酒馆等）

#### Minion

* 随从属性（攻击力、生命值、星级、类型）

* 随从特效

* 战斗逻辑

#### Tavern

* 随从池管理

* 随从刷新

* 酒馆升级

#### BattleSystem

* 战斗流程控制

* 随从攻击逻辑

* 特效触发

* 胜负判定

### 3. 实现步骤

1. **搭建基础框架**

   * 创建项目基础结构

   * 配置必要的依赖

2. **实现核心数据模型**

   * 设计并实现英雄、随从数据结构

   * 创建游戏数据文件

3. **实现游戏核心逻辑**

   * 游戏初始化

   * 回合系统

   * 金币管理

   * 酒馆机制

4. **实现UI组件**

   * 游戏主界面

   * 酒馆界面

   * 随从显示

   * 战斗场景

5. **实现AI对手**

   * 简单AI逻辑

   * AI决策机制

6. **测试与优化**

   * 测试游戏流程

   * 优化性能

   * 修复bug

## 开发计划

1. **第一阶段**：基础框架搭建和核心数据模型实现
2. **第二阶段**：游戏核心逻辑实现
3. **第三阶段**：UI组件开发
4. **第四阶段**：AI对手实现
5. **第五阶段**：测试与优化

## 技术要点

* 使用Vue 3 + TypeScript构建

* 采用组件化开发方式

* 游戏逻辑与UI分离

* 使用localStorage保存游戏进度（可选）

* 实现流畅的动画效果

## 注意事项

* 确保游戏平衡性

* 优化AI行为，提供挑战性

* 实现清晰的游戏指引

* 确保代码可维护性和扩展性

这个设计方案将完全复刻炉石酒馆战棋的核心玩法，同时适应单机环境，提供流畅的游戏体验。
