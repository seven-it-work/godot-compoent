# 修仙文字游戏修炼系统开发计划

## 1. 核心数据模型设计

### 1.1 玩家数据模型

```typescript
interface Player {
  level: number; // 玩家等级
  exp: number; // 当前经验值
  maxExp: number; // 升级所需经验值
  spiritRoots: SpiritRoot[]; // 灵根列表
  spiritQi: SpiritQi; // 灵气值
  absorbSpeed: number; // 吸收速度系数
  cooldown: number; // 冷却时间（毫秒）
  isCooldown: boolean; // 是否处于冷却中
}
```

### 1.2 灵根数据模型

```typescript
interface SpiritRoot {
  type: "gold" | "wood" | "water" | "fire" | "earth"; // 灵根类型
  level: number; // 灵根等级
  name: string; // 灵根名称
}
```

### 1.3 灵气数据模型

```typescript
interface SpiritQi {
  gold: number; // 金灵气
  wood: number; // 木灵气
  water: number; // 水灵气
  fire: number; // 火灵气
  earth: number; // 土灵气
  maxGold: number; // 金灵气上限
  maxWood: number; // 木灵气上限
  maxWater: number; // 水灵气上限
  maxFire: number; // 火灵气上限
  maxEarth: number; // 土灵气上限
}
```

## 2. 组件结构设计

### 2.1 主页面组件 (`App.vue`)

- 包含游戏标题和导航菜单
- 显示玩家基本信息
- 切换不同游戏系统（修炼、外出）

### 2.2 修炼系统组件 (`TrainingSystem.vue`)

- 显示玩家灵根信息
- 显示当前灵气值和升级进度
- 提供灵气吸收功能
- 显示冷却时间

### 2.3 灵根信息组件 (`SpiritRootInfo.vue`)

- 显示每种灵根的等级和名称
- 可视化灵根强度

### 2.4 灵气吸收组件 (`SpiritQiAbsorb.vue`)

- 吸收灵气按钮
- 冷却时间显示
- 吸收效果动画

## 3. 核心逻辑设计

### 3.1 灵气吸收逻辑

1. 玩家点击吸收灵气按钮
2. 检查是否处于冷却中
3. 根据灵根等级计算吸收量
4. 更新对应灵气值
5. 检查是否达到升级条件
6. 进入冷却时间

### 3.2 升级逻辑

1. 检查每种灵气是否达到当前等级上限
2. 如果达到，提升玩家等级
3. 计算新的灵气上限（根据等级提升）
4. 重置灵气值（或保留超出部分）

### 3.3 冷却时间逻辑

1. 吸收灵气后，设置冷却状态
2. 显示冷却倒计时
3. 倒计时结束后，重置冷却状态

## 4. 响应式设计

### 4.1 布局设计

- 使用 Ant Design Vue 的栅格系统
- PC端：多列布局，显示更多信息
- 移动端：单列布局，简化信息显示

### 4.2 组件适配

- 按钮大小和间距适配不同屏幕
- 文字大小自适应
- 移动端优化触摸体验

## 5. 开发步骤

### 5.1 第一步：创建核心数据模型

- 创建 `types` 目录，定义游戏核心类型
- 创建 `store` 目录，使用 Pinia 管理游戏状态

### 5.2 第二步：开发修炼系统组件

- 创建 `components` 目录，开发修炼相关组件
- 实现灵根信息显示
- 实现灵气值显示

### 5.3 第三步：实现灵气吸收功能

- 开发灵气吸收按钮
- 实现吸收逻辑
- 实现冷却时间显示

### 5.4 第四步：实现升级系统

- 开发升级逻辑
- 实现等级提升效果
- 实现灵气上限计算

### 5.5 第五步：响应式布局优化

- 调整组件布局，适配PC和移动端
- 测试不同屏幕尺寸的显示效果

### 5.6 第六步：添加动画和音效

- 添加灵气吸收动画
- 添加升级动画
- 添加按钮点击音效

## 6. 预期结果

- 玩家可以查看自己的灵根信息
- 玩家可以点击按钮吸收灵气
- 系统根据灵根等级计算吸收量
- 吸收后进入冷却时间
- 灵气达到上限后自动升级
- 游戏界面适配PC和移动端

## 7. 技术栈

- Vue 3 + TypeScript
- Ant Design Vue 组件库
- Pinia 状态管理
- CSS 动画效果

## 8. 后续扩展

- 外出系统开发
- 装备系统开发
- 任务系统开发
- 战斗系统开发
